@using BillingSystem.Model.CustomModel
@model List<CarePlanTaskCustomModel>

<div class="form">
    <div class="table-responsive">
        @if (Model != null && Model.Count > 0)
        {
            WebGrid grid = new WebGrid(Model, ajaxUpdateContainerId: "gridContent",canPage:false);
            <div id="gridContent">
                @grid.GetHtml(htmlAttributes: new { id = "CarePlanTaskListGrid" }, tableStyle: "table table_scroll", headerStyle: "gridHead", footerStyle: "gridFooter", rowStyle: "gridRow", alternatingRowStyle: "gridAltRow", columns: grid.Columns(
                     grid.Column("TaskName", header: "Task Name", canSort: true),     
                grid.Column("TaskNumber", header: "Task Number", canSort: true),               
                grid.Column("TaskDescription", header: "Task Description" , canSort: true),
                                 grid.Column("CarePlan", header: "Care Plan", canSort: true),
                                 grid.Column("Activity", header: "Activity Type", canSort: true),
                                 grid.Column("ResponsibleUser", header: "Responsible User", canSort: true),
                                grid.Column("StartTime", header: "Start Time" , canSort: true),
                                grid.Column("EndTime", header: "End Time" , canSort: true),
                                grid.Column("IsRecurring", header: "Is Recurring" , canSort: true),
                                 grid.Column("Occurrence", header: "Recurrance Type", canSort: true),
                                grid.Column("RecTimeInterval", header: "Rec Time Interval" , canSort: true),
                                 grid.Column("RecurranceTimeIntervalType", header: "Rec Time Interval Type", canSort: true),
                                //grid.Column("IsActive", header: "Is Active" , canSort: true),
                grid.Column(header: "Action", format: @<text>
                <a href="javascript:;" title="Edit Care Plan Task" onclick="EditCarePlanTask('@item.Id')" style="float: left; margin-right: 7px; width: 15px;">
                    <img src="~/images/edit.png" /></a>
                                                           &nbsp;
                @*<a href="javascript:;" title="Delete Care Plan Task" onclick="return DeleteCarePlanTask('@item.Id');" style="float: left; width: 15px;"><img src="~/images/delete.png" /></a>*@
                <a href="javascript:void(0);" title="Delete Care Plan Task" onclick="return OpenConfirmPopup('@item.Id','Delete Plan Task','',DeleteCarePlanTask,null); " style="float: left; width: 15px;">
                    <img src="@Url.Content("~/images/delete.png")" />
                    </a>
            </text>)
    ))
</div>            
        }
        else
        {

            <h2>No Record found</h2>
        }
    </div>
</div>
<script>
    $(function() {
        $('.table_scroll').fixedHeaderTable({ cloneHeadToFoot: true, altClass: 'odd', autoShow: true });
        SetGridSorting(SortCarePlanTaskGrid, "#gridContent");
    });
</script>