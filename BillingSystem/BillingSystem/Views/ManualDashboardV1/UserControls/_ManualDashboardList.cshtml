@using BillingSystem.Model.CustomModel
@model List<ManualDashboardCustomModel>
<style>
    .grid {
        height: 300px;
        width: 100%;
    }

    .grid-canvas {
        position: relative;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }

    .header-wrapper {
        position: absolute;
        top: 0;
        width: 100%;
        z-index: 1;
    }

    .row-wrapper {
        position: absolute;
        top: 0;
        height: 89%;
        width: 100%;
        box-sizing: border-box;
        overflow: auto;
        margin-top: 22px;
    }

    th, td {
        width: 115px;
        min-width: 115px;
        max-width: 115px;
        overflow: hidden;
        word-wrap: break-word;
    }

    #table100P a {
        cursor: pointer;
    }
</style>

<div class="form">
    <div class="">
        @if (Model != null && Model.Count > 0)
        {
            <div class="grid">
                <div class="grid-canvas">
                    <div class="header-wrapper">
                        <table class="table-grid header" data-swhgajax="true" data-swhgcontainer="gridContent" data-swhgcallback="" id="table100P">
                            <tbody>
                                <tr class="gridHead">
                                    <th scope="col">Action</th>
                                    <th scope="col"><a id="ankBudgetTypeStr" onclick=" BindGridByOrder('BudgetTypeStr', 'DESC', this.id);">BudgetType</a></th>
                                    <th scope="col"><a id="ankIndicatorNumber" onclick=" BindGridByOrder('Indicators', 'DESC', this.id);">IndicatorNo.</a></th>
                                    <th scope="col"><a id="ankIndicatorTypeStr" onclick=" BindGridByOrder('IndicatorTypeStr', 'DESC', this.id);">Indicators</a></th>
                                    <th scope="col"><a id="ankSubCategoryValue1Str" onclick=" BindGridByOrder('SubCategoryValue1Str', 'DESC', this.id);">SubCategory1</a></th>
                                    <th scope="col"><a id="ankSubCategoryValue2Str" onclick=" BindGridByOrder('SubCategoryValue2Str', 'DESC', this.id);">SubCategory2</a></th>
                                    <th scope="col"><a id="ankOwnerShip" onclick=" BindGridByOrder('OwnerShip', 'DESC', this.id);">OwnerShip</a></th>
                                    <th scope="col"><a id="ankFrequencyTypeStr" onclick=" BindGridByOrder('FrequencyTypeStr', 'DESC', this.id);">Frequency</a></th>
                                    <th scope="col"><a id="ankFacilityStr" onclick=" BindGridByOrder('FacilityStr', 'DESC', this.id);">Facility</a></th>
                                    <th scope="col"><a id="ankYear" onclick=" BindGridByOrder('Year', 'DESC', this.id); ">Year</a></th>
                                    <th scope="col"><a id="ankM1" onclick=" BindGridByOrder('M1', 'DESC', this.id);">Jan</a> </th>
                                    <th scope="col"><a id="ankM2" onclick=" BindGridByOrder('M2', 'DESC', this.id);">Feb</a> </th>
                                    <th scope="col"><a id="ankM3" onclick=" BindGridByOrder('M3', 'DESC', this.id);">Mar</a> </th>
                                    <th scope="col"><a id="ankM4" onclick=" BindGridByOrder('M4', 'DESC', this.id);">Apr</a> </th>
                                    <th scope="col"><a id="ankM5" onclick=" BindGridByOrder('M5', 'DESC', this.id);">May</a> </th>
                                    <th scope="col"><a id="ankM6" onclick=" BindGridByOrder('M6', 'DESC', this.id);">Jun</a> </th>
                                    <th scope="col"><a id="ankM7" onclick=" BindGridByOrder('M7', 'DESC', this.id);">Jul</a> </th>
                                    <th scope="col"><a id="ankM8" onclick=" BindGridByOrder('M8', 'DESC', this.id);">Aug</a> </th>
                                    <th scope="col"><a id="ankM9" onclick=" BindGridByOrder('M9', 'DESC', this.id);">Sep</a> </th>
                                    <th scope="col"><a id="ankM10" onclick=" BindGridByOrder('M10', 'DESC', this.id);">Oct</a></th>
                                    <th scope="col"><a id="ankM11" onclick=" BindGridByOrder('M11', 'DESC', this.id);">Nov</a></th>
                                    <th scope="col"><a id="ankM12" onclick=" BindGridByOrder('M12', 'DESC', this.id);">Dec</a></th>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="row-wrapper">
                        <table class="table-grid rows" id="ManualDashboardGridDiv" data-swhgajax="true" data-swhgcontainer="gridContent" data-swhgcallback="">
                            <thead>
                            </thead>
                            <tbody>
                                @foreach (var item in Model)
                                {
                                    <tr class="gridRow">
                                        <td style="width: 59px;">
                                            @*@{
                                    var isNumber = !string.IsNullOrEmpty(item.ExternalValue2) ? (int.Parse(item.ExternalValue2) > 0 && int.Parse(item.ExternalValue2) == 3 ? false : true) : true;
                                            }
                                            @if (isNumber)
                                            {
                                                <a href="javascript:void(0);" title="Edit Data" onclick=" EditManualDashboard('@item.FacilityId', '@item.CorporateId', '@item.Indicators', '@item.BudgetType', '@item.Year') " style="float: left; margin-right: 7px; width: 15px;">
                                                    <img src="@Url.Content("~/images/edit.png")"></a>
                                                <a href="javascript:void(0);" title="Delete Data" onclick=" DeleteManualDashboard('@item.FacilityId', '@item.CorporateId', '@item.Indicators', '@item.BudgetType', '@item.Year') " style="float: left; margin-right: 7px; width: 15px;">
                                                    <img src="@Url.Content("~/images/delete.png")"></a> 
                                            }*@
                                            <a href="javascript:void(0);" title="Edit Data" onclick="EditManualDashboard('@item.FacilityId', '@item.CorporateId', '@item.Indicators', '@item.BudgetType', '@item.Year') " style="float: left; margin-right: 7px; width: 15px;">
                                                <img src="@Url.Content("~/images/edit.png")"></a>
                                            <a href="javascript:void(0);" title="Delete Data" onclick="DeleteManualDashboard('@item.FacilityId', '@item.CorporateId', '@item.Indicators', '@item.BudgetType', '@item.Year') " style="float: left; margin-right: 7px; width: 15px;">
                                                <img src="@Url.Content("~/images/delete.png")"></a>
                                            @*<a href="javascript:void(0);" title="Delete Data" onclick="return DeleteManualDashboardWithConfirm('@item.FacilityId','@item.CorporateId','@item.Indicators','@item.BudgetType','@item.Year','Delete Current Activity','',DeleteManualDashboard,null); " style="float: left; margin-right: 7px; width: 15px;">
                                                <img src="@Url.Content("~/images/delete.png")">
                                            </a>*@
                                        </td>
                                        <td>@item.BudgetTypeStr</td>
                                        <td>@item.Indicators</td>
                                        <td>@item.IndicatorTypeStr</td>
                                        <td>@item.SubCategoryValue1Str</td>
                                        <td>@item.SubCategoryValue2Str</td>
                                        <td>@item.OwnerShip</td>
                                        <td>@item.FrequencyTypeStr</td>
                                        <td>@item.FacilityStr</td>
                                        <td>@item.Year</td>
                                        <td>@item.M1</td>
                                        <td>@item.M2</td>
                                        <td>@item.M3</td>
                                        <td>@item.M4</td>
                                        <td>@item.M5</td>
                                        <td>@item.M6</td>
                                        <td>@item.M7</td>
                                        <td>@item.M8</td>
                                        <td>@item.M9</td>
                                        <td>@item.M10</td>
                                        <td>@item.M11</td>
                                        <td>@item.M12</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        }
        else
        {
            <h2>No Record found</h2>
        }
    </div>
</div>

<script>
    $headerDiv = $('.header-wrapper');
    $rowDiv = $('.row-wrapper');
    $rowDiv.scroll(function (e) {
        $headerDiv.css({
            left: -$rowDiv[0].scrollLeft + 'px'
        });
    });
</script>


