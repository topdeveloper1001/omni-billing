@using BillingSystem.Common
@{
    ViewBag.Title = "Index2";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .ui-datepicker-multi .ui-datepicker-group {
        float: none !important;
    }

    .ui-front {
        z-index: 99999;
        border: 1px solid #ddd;
        background: #eee;
    }

    .ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active {
        background: #317cb3 !important;
        box-shadow: none !important;
        font-weight: bold;
        color: #fff !important;
    }
</style>
<div id="page-wrapper">
    <div class="schduler_frame">
        <h2>Scheduler</h2>
        <div class="row schduler_btngroup">
            <div class="col-lg-12">
                <div class="col-md-3">
                    <input value="Schedule Appointment" type="button" class="btn btn-sm btn-primary" id="btnScheduleAppointment" />
                    <input value="Holiday/Vacation" type="button" class="btn btn-sm btn-success" id="btnAddHoliday" />
                </div>
                <div class="col-md-9">
                    <input type="hidden" name="hidPatientId" value="0" />
                    <div name="btnClearPatient" id="btnClearPatient" class="btn btn-sm btn-default btn-selectedpatient pull-right" title="Selected Patient" style="display: none;"><span id="spnSelectedPatient"></span><span id="spnClearSelectedPatient" onclick="clearSelectedPatient();" title="Clear Selected Patient" class="glyphicon glyphicon-remove"></span></div>
                    <input value="View Patient Schedule" type="button" class="btn btn-sm btn-success" style="float: right;" id="btnSearchPatient" />
                </div>
            </div>
        </div>
        <div class="schduler_rightblock">
            <div class="schduler_block">
                <h2>Calendars:</h2>
                <div class="schduler_content" style="height: 377px; overflow: auto;">
                    <div id="divDatetimePicker">
                        @*Datetime picker with two tables goes here*@
                    </div>
                </div>
            </div>
            <div class="schduler_block">
                <h2>Resources:</h2>
                <div class="schduler_content">
                    <div id="divPhysicianList">
                        @*Physicians Check box list goes here*@
                    </div>
                </div>
            </div>
            <div class="schduler_block">
                <h2>Labels:</h2>
                <div class="schduler_content" style="height: 200px; overflow: auto;">
                    <div id="divStatusList">
                        @* Status list goes here*@
                    </div>
                </div>
            </div>
        </div>
        <div class="schduler_leftblock">
            <div class="schduler_block">
                <h2>Facilities:</h2>
                <div class="schduler_content" style="max-height: 350px; overflow: auto;">
                    <div id="divLocationList">
                        @* Location(Facility) list goes here*@
                    </div>
                </div>
            </div>
            <div class="schduler_block">
                <h2>Calendar View:</h2>
                <div class="schduler_content" style="max-height: 100px; overflow: auto;">
                    <div id="divViewsList">
                        @{Html.RenderPartial("~/Views/Scheduling/UserControls/_CalenderViewType.cshtml", null);}
                    </div>
                </div>
            </div>
            <div class="schduler_block">
                <h2>Departments:</h2>
                <div class="schduler_content" style="max-height: 200px; overflow: auto;">
                    <div id="divFacilityDepartmentList">
                    </div>
                </div>
            </div>
        </div>
        <div class="schduler_centerblock">
            <div class="schduler_block">
                <h2>Appointments View</h2>
                <div class="schduler_content">
                    @{Html.RenderPartial("~/Views/Scheduling/UserControls/_FacultyCalenderView.cshtml", null);}
                </div>
            </div>
        </div>
        <input id="hidFacilitySelected" type="hidden" value="@Helpers.GetDefaultFacilityId()"/>
        <input id="hidFacilityName" type="hidden" value="@Helpers.GetDefaultFacilityName()"/>
        <input id="hidSelectedView" type="hidden" value="1" />
        <input id="hidSelectedViewName" type="hidden" value="Day" />
        <input id="hidSchedulingType" type="hidden" value="0" />
        <input id="hidEventParentId" type="hidden" value="" />
    </div>
    
    @* Section to add edit the schedular events. (Schdeduling popup)  Starts *@
    <div id="divSchedularPopUp" class="hidePopUp" style="display: none;">
        <div class="popup-coverbg"></div>
        <div class="popup-frame">
            <div class="popup-main" style="margin: 10px auto">
                <div class="popup-content">
                    <div id="divSchedularPopUpContent">
                        @{Html.RenderPartial("~/Views/Scheduling/UserControls/_SchedularPopupView.cshtml", null);}
                    </div>
                </div>
            </div>
        </div>
    </div>
    @* Section to add edit the schedular events. (Section Popup Code)  Starts *@

    @* Multiple Events Edit Popup. (Section Popup Code)  Starts *@
    <div id="divMultipleEventPopup" class="hidePopUp scheduler_eventpopup" style="display: none;">
        <div class="popup-coverbg"></div>
        <div class="popup-frame">
            <div class="popup-main">
                <div class="popup-content">
                    <div class="multiple_events">
                        <h2>Do you want to edit the whole set of repeated events?</h2>
                        <input type="submit" value="Edit series" id="btnEditSeries" class="btn btn-sm btn-primary" />&nbsp; &nbsp; 
                        <input type="submit" value="Edit occurrence" id="btnEditOccurrence" class="btn btn-sm btn-warning" />&nbsp; &nbsp; 
                        <input type="submit" value="Cancel" id="btnCancelRepeat" class="btn btn-sm btn-default" onclick="ClearSchedulingPopup();" />
                    </div>
                </div>
            </div>
        </div>
    </div>
    @* Multiple Events Edit Popup. (Section Popup Code)  Starts *@

    @* Multiple Events Edit Popup (Recuurance). (Section Popup Code)  Starts *@
    <div id="divRecurrenceEventPopup" class="hidePopUp scheduler_eventpopup" style="display: none;">
        <div class="popup-coverbg"></div>
        <div class="popup-frame">
            <div class="popup-main">
                <div class="popup-content">
                    <div class="multiple_events">
                        <h2>Do you want to edit the whole set of repeated events?</h2>
                        <input type="submit" value="Edit series" id="btnEditRecurrenceSeries" class="btn btn-sm btn-primary" />&nbsp; &nbsp; 
                        <input type="submit" value="Edit occurrence" id="btnEditRecurrenceOccurrence" class="btn btn-sm btn-warning" />&nbsp; &nbsp; 
                        <input type="submit" value="Cancel" id="btnCancelRecurrenceRepeat" class="btn btn-sm btn-default" onclick="ClearSchedulingPopup();" />
                    </div>
                </div>
            </div>
        </div>
    </div>
    @* Multiple Events Edit Popup (Recuurance). (Section Popup Code)  Starts *@

    @* Multiple Delete Popup. (Section Popup Code)  Starts *@
    <div id="divMultipleDeletePopup" class="hidePopUp scheduler_eventpopup" style="display: none;">
        <div class="popup-coverbg"></div>
        <div class="popup-frame">
            <div class="popup-main">
                <div class="popup-content">
                    <div class="multiple_events">
                        <h2>Do you want to delete the whole set of repeated events?</h2>
                        <input type="submit" value="Delete series" id="btnDeleteSeries" class="btn btn-sm btn-primary" />&nbsp; &nbsp; 
                        <input type="submit" value="Delete occurrence" id="btnDeleteOccurrence" class="btn btn-sm btn-warning" />&nbsp; &nbsp; 
                        <input type="submit" value="Cancel" id="btnCancelDeleteRepeat" class="btn btn-sm btn-default" onclick="ClearSchedulingPopup();" />
                    </div>
                </div>
            </div>
        </div>
    </div>
      @* Multiple Delete Popup. (Section Popup Code)  Ends *@

    @* Serach patient and view selected patient data on schedular. (Section Popup Code)  Starts *@
    <div id="divSearchPatient" style="display: none;">
        <div class="popup-coverbg"></div>
        <div class="popup-frame">
            <div class="popup-main">
                <div class="popup-content">
                    <div class="popup-close" onclick=" $('#divSearchPatient').hide(); $.validationEngine.closePrompt('.formError', true);">X</div>
                    @*@{ Html.RenderPartial("~/Views/FacultyTimeslots/UserControls/_PatientSearchPView.cshtml", new BillingSystem.Models.PatientSearchView());}*@
                </div>
            </div>
        </div>
    </div>
    @* Serach patient and view selected patient data on schedular. (Section Popup Code) Ends*@
</div>


@*<script>
    $(document).ready(function () {
        $('input[name=rbtnRecType]').change(function () {
            if ($(this).is(":checked")) { 
                var radioval = $(this).val();
                if (radioval == "daily") {
                    $(".reccurrence_field").hide();
                    $("#daily").show();
                };
                if (radioval == "weekly") {
                    $(".reccurrence_field").hide();
                    $("#weekly").show();
                };
                if (radioval == "monthly") {
                    $(".reccurrence_field").hide();
                    $("#monthly").show();
                };
            }
        });
    });
</script>*@
@*<script src="~/Scripts/FacultyTimeslots/SchedulingNew.js"></script>*@
<script src="~/Scripts/Scheduling/Scheduling.js"></script>
