@using BillingSystem.Model.CustomModel
@model List<ATCCodesCustomModel>

<div class="form">
    <div class="table-responsive">
        @if (Model != null && Model.Count > 0)
        {
            WebGrid grid = new WebGrid(Model, ajaxUpdateContainerId: "gridContent", canPage: false);
            <div id="ATCCodesList">
                @grid.GetHtml(htmlAttributes: new { id = "ATCCodesList" }, tableStyle: "table table_scroll", headerStyle: "gridHead", footerStyle: "gridFooter", rowStyle: "gridRow", alternatingRowStyle: "gridAltRow", columns: grid.Columns(
                //grid.Column("ATCCodeID", header: "ATCCodeID", canSort: true),
                grid.Column("ATCCode", header: "ATCCode", canSort: true),
                //grid.Column("SubcodeDescription", header: "SubcodeDescription", canSort: true),
                //grid.Column("SubCode", header: "SubCode", canSort: true),
                grid.Column("DrugName", header: "DrugName", canSort: true),
                grid.Column("Purpose", header: "Purpose", canSort: true),
                grid.Column("CodeDescription", header: "CodeDescription", canSort: true),
                grid.Column("DrugDescription", header: "DrugDescription", canSort: true),
                grid.Column("CodeEffectiveFrom", header: "Effective From", canSort: true),
                grid.Column("CodeEffectiveTill", header: "Effective Till", canSort: true),
                grid.Column(header: "Action", format: @<text>
                <a href="#" onclick="EditATCCodes('@item.ATCCodeId')" style="float: left; margin-right: 7px; width: 15px;">
                    <img src="../images/edit.png" /></a>
                                                           &nbsp;
             @*<a href="#" title="Delete" onclick="return DeleteATCCodes('@item.ATCCodeId');" style="float: left; width: 15px;"><img src="../images/delete.png" /></a>*@
                <a href="javascript:void(0);" title="Delete ATC Code" onclick="return OpenConfirmPopup('@item.ATCCodeId','Delete ATC Code','',DeleteATCCodes,null); " style="float: left; width: 15px;">
                    <img src="@Url.Content("~/images/delete.png")" />
                </a>
                </text>)
                ))
            </div>            
        }
        else
        {

            <h2>No Record found</h2>
        }
    </div>
</div>
<script>
    
    $(function () {
        if ($('#ATCCodesList tr').length > 6) {
            $('.table_scroll').fixedHeaderTable({ cloneHeadToFoot: true, altClass: 'odd', autoShow: true });
        }
        SetGridSorting(SortActCodeGrid, "#ATCCodesListDiv");


    });
    
</script>
