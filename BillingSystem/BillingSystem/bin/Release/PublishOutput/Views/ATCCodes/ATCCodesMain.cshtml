@using BillingSystem.Common
@using BillingSystem.Models
@using BillingSystem.Common.Common

@model ATCCodesView

@{
    ViewBag.Title = "ATCCodes View";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="white-bg">
    <div class="panel panel-default collapsecss ourcollapse">
        <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" href="#collapseSearchData">
            <h4 class="panel-title collapseTitle">
                <span class="glyphicon glyphicon-plus-sign"></span>&nbsp;Search Data
                <a class="btn btn-default btn-sm pull-right collapse-btn">
                    <span class="glyphicon glyphicon-chevron-down"></span>
                </a>
            </h4>
        </div>
        <div id="collapseSearchData" class="panel-collapse collapse in">
            <div class="row search-diagnose">
                <div class="col-xs-12 col-sm-5 col-md-4">
                    @{Html.RenderPartial("~/Views/CommonUserControls/_SearchCode.cshtml", new SearchView
                        {
                            SearchResultListId = "#ATCCodesListDiv",
                            PlaceholderText = "Search for ATC Codes, Code Description, DrugName or Purpose",
                            SearchType = Convert.ToInt32(SearchType.ATC)
                        });
                    }
                </div>
                <div class="col-xs-12 col-sm-6 col-md-2">
                    <div class="rowTable">
                        <label class="col-lg-12">&nbsp;</label>
                        <input id="btnMarkAsInActive" class="btn edit-btn btn-primary" value="Mark As Inactive" type="button" />

                    </div>
                </div>
                <div class="col-xs-12 col-sm-7 col-md-6">
                    <div class="row">
                        <div class="col-sm-10 col-md-9">
                            <div class="browse-area">
                                <h3>IMPORT</h3>
                                <div class="right_blocks">
                                    <a href="#" id="aImport" onclick="ImportBillingCodes('ATC');">
                                        <img src="~/images/ImportExcel64x64.png" title="Excel Import" width="20" height="20" />
                                    </a>
                                </div>
                                <input id="ImportFile" name="ImportFile" type="file" />
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-2 col-md-3">
                            <div class="right_blocks">
                                @Html.ActionLink(" ", "ExportCodesToExcel", "Home", new { type = "5" },
                               new
                               {
                                   @class = "excelexportIcon1",
                                   @title = "Export as Excel",
                                   @id = "btnATCCodeToExcel",
                                   @onclick = "BeforeExportToExcel('btnATCCodeToExcel','ATC');"
                                   //@onclick = "ExportToExcel(5);"
                               })
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="panel panel-default collapsecss ourcollapse">
        <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
            <h4 class="panel-title collapseTitle">
                <span class="glyphicon glyphicon-plus-sign"></span> Add ATC Codes
                <a class="btn btn-default btn-sm pull-right collapse-btn">
                    <span class="glyphicon glyphicon-chevron-down"></span>
                </a>
            </h4>
        </div>
        <div id="collapseOne" class="panel-collapse collapse">
            <div class="panel-body">
                <div class="base-color">
                    <div class="ATCCodesFormDiv">
                        @{Html.RenderPartial("~/Views/ATCCodes/UserControls/_ATCCodesAddEdit.cshtml", Model.CurrentATCCodes);}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="panel panel-default collapsecss ourcollapse bordertable">
        <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
            <h4 class="panel-title collapseTitle">
                <span><img src="../images/list.png" /></span> ATC Codes List
                <a class="btn btn-default btn-sm pull-right collapse-btn">
                    <span class="glyphicon glyphicon-chevron-down"></span>
                </a>
            </h4>
        </div>
        <div id="collapseTwo" class="panel-collapse collapse in tableImg">
            <div class="form" id="ATCCodesListDiv">
                @{Html.RenderPartial("~/Views/ATCCodes/UserControls/_ATCCodesList.cshtml", Model.ATCCodesList);}
            </div>
        </div>
    </div>
    <div class="clear"></div>
</div>
<script src="~/Scripts/ATCCodes/ATCCodesScript.js?@Helpers.CurrentAssemblyTicks"></script>
<script src="~/Scripts/Common/confirmEvents.js?@Helpers.CurrentAssemblyTicks"></script>